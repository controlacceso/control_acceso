-- phpMyAdmin SQL Dump
-- version 3.4.10.1deb1
-- http://www.phpmyadmin.net
--
-- Servidor: localhost
-- Tiempo de generación: 22-02-2016 a las 12:52:15
-- Versión del servidor: 5.5.46
-- Versión de PHP: 5.4.45-2+deb.sury.org~precise+2

SET SQL_MODE="NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Base de datos: `controlfid`
--
CREATE DATABASE IF NOT EXISTS `controlfid` DEFAULT CHARACTER SET latin1 COLLATE latin1_swedish_ci;
USE `controlfid`;
-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `alumnos`
--

CREATE TABLE IF NOT EXISTS `alumnos` (
  `id_alumno` int(4) NOT NULL AUTO_INCREMENT,
  `dni` varchar(10) DEFAULT NULL,
  `nombre` varchar(45) DEFAULT NULL,
  `apellidos` varchar(45) DEFAULT NULL,
  `correo` varchar(45) DEFAULT NULL,
  `foto` blob,
  `tarjeta_activada` tinyint(1) DEFAULT NULL,
  `num_tarjeta` varchar(15) DEFAULT NULL,
  `presencia` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id_alumno`),
  UNIQUE KEY `num_tarjeta` (`num_tarjeta`),
  UNIQUE KEY `num_tarjeta_2` (`num_tarjeta`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=21 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `alumno_grupos`
--

CREATE TABLE IF NOT EXISTS `alumno_grupos` (
  `id_alumno_grupos` int(4) NOT NULL AUTO_INCREMENT,
  `id_alumno` int(4) NOT NULL,
  `id_grupo` int(4) NOT NULL,
  PRIMARY KEY (`id_alumno_grupos`,`id_alumno`,`id_grupo`),
  KEY `fk_alumnos_has_grupo_grupo1_idx` (`id_grupo`),
  KEY `fk_alumnos_has_grupo_alumnos1_idx` (`id_alumno`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=31 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `asignaturas`
--

CREATE TABLE IF NOT EXISTS `asignaturas` (
  `id_asignatura` int(4) NOT NULL AUTO_INCREMENT,
  `nombre` varchar(45) DEFAULT NULL,
  `clave` varchar(45) DEFAULT NULL,
  `obligatoria` tinyint(1) NOT NULL,
  `tipo` enum('Bachiller','FP') DEFAULT NULL,
  PRIMARY KEY (`id_asignatura`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=21 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `aulas`
--

CREATE TABLE IF NOT EXISTS `aulas` (
  `id_aula` int(4) NOT NULL AUTO_INCREMENT,
  `numero` varchar(4) DEFAULT NULL,
  `piso` int(2) DEFAULT NULL,
  `capacidad` int(4) DEFAULT NULL,
  PRIMARY KEY (`id_aula`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=26 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `convalidadas`
--

CREATE TABLE IF NOT EXISTS `convalidadas` (
  `id_convalidada` int(4) NOT NULL AUTO_INCREMENT,
  `id_alumno` int(4) NOT NULL,
  `id_asignatura` int(4) NOT NULL,
  PRIMARY KEY (`id_convalidada`,`id_alumno`,`id_asignatura`),
  KEY `fk_alumnos_has_asignatura_asignatura1_idx` (`id_asignatura`),
  KEY `fk_alumnos_has_asignatura_alumnos_idx` (`id_alumno`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=7 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `dispositivos`
--

CREATE TABLE IF NOT EXISTS `dispositivos` (
  `id_aula` int(4) NOT NULL,
  `numero_dispositivo` int(4) NOT NULL,
  `ultima_conexion` datetime NOT NULL,
  PRIMARY KEY (`id_aula`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `faltas`
--

CREATE TABLE IF NOT EXISTS `faltas` (
  `id_faltas` int(4) NOT NULL AUTO_INCREMENT,
  `fecha` date NOT NULL,
  `id_alumno` int(4) NOT NULL,
  `id_horario_grupo` int(4) NOT NULL,
  `observaciones` varchar(300) DEFAULT NULL,
  PRIMARY KEY (`id_faltas`),
  KEY `id_alumno` (`id_alumno`),
  KEY `id_horario_grupo` (`id_horario_grupo`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=2 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `grupos`
--

CREATE TABLE IF NOT EXISTS `grupos` (
  `id_grupo` int(4) NOT NULL AUTO_INCREMENT,
  `nombre_grupo` varchar(45) DEFAULT NULL,
  `tipo` enum('Bachiller','FP') DEFAULT NULL,
  PRIMARY KEY (`id_grupo`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=19 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `horario_grupos`
--

CREATE TABLE IF NOT EXISTS `horario_grupos` (
  `id_horario_grupo` int(4) NOT NULL AUTO_INCREMENT,
  `dia_semana` enum('Lunes','Martes','Miercoles','Jueves','Viernes') NOT NULL,
  `hora_inicio` time NOT NULL,
  `hora_final` time NOT NULL,
  `id_grupo` int(4) NOT NULL,
  `id_asignatura` int(4) NOT NULL,
  `id_aula` int(4) NOT NULL,
  PRIMARY KEY (`id_horario_grupo`),
  KEY `fk_horarioGrupo_grupo1_idx` (`id_grupo`),
  KEY `fk_horarioGrupo_asignatura1_idx` (`id_asignatura`),
  KEY `fk_horarioGrupo_aula1_idx` (`id_aula`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=31 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `horario_profesores`
--

CREATE TABLE IF NOT EXISTS `horario_profesores` (
  `id_horario_profesor` int(4) NOT NULL AUTO_INCREMENT,
  `dia_semana` enum('Lunes','Martes','Miercoles','Jueves','Viernes') DEFAULT NULL,
  `hora_inicio` time DEFAULT NULL,
  `hora_final` time DEFAULT NULL,
  `id_profesor` int(4) NOT NULL,
  `id_horario_grupo` int(4) NOT NULL,
  PRIMARY KEY (`id_horario_profesor`),
  KEY `fk_horarioProfesor_profesor1_idx` (`id_profesor`),
  KEY `fk_horarioGrupo_profesor1_idx` (`id_horario_grupo`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=31 ;

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `profesores`
--

CREATE TABLE IF NOT EXISTS `profesores` (
  `id_profesor` int(4) NOT NULL AUTO_INCREMENT,
  `dni` varchar(10) DEFAULT NULL,
  `nombre` varchar(45) DEFAULT NULL,
  `apellidos` varchar(45) DEFAULT NULL,
  `correo` varchar(45) DEFAULT NULL,
  `password` varchar(45) DEFAULT NULL,
  `foto` longblob,
  `tarjeta_activada` tinyint(1) DEFAULT NULL,
  `num_tarjeta` varchar(15) DEFAULT NULL,
  `presencia` tinyint(1) DEFAULT NULL,
  `admin` tinyint(1) DEFAULT NULL COMMENT 'tabla Profesor',
  PRIMARY KEY (`id_profesor`),
  UNIQUE KEY `num_tarjeta` (`num_tarjeta`),
  UNIQUE KEY `num_tarjeta_2` (`num_tarjeta`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=22 ;

--
-- Volcado de datos para la tabla `profesores`
--

INSERT INTO `profesores` (`id_profesor`, `dni`, `nombre`, `apellidos`, `correo`, `password`, `foto`, `tarjeta_activada`, `num_tarjeta`, `presencia`, `admin`) VALUES
(21, '00000000-x', 'admin', 'admin', 'admin@zubirimanteo.com', '41f36a4de57cca50d5e16870926e96d8', 0x89504e470d0a1a0a0000000d494844520000008c0000008c080200000021a2d6690000000970485973000017120000171201679fd252000000206348524d00007a25000080830000f9ff000080e8000052080001155800003a970000176fd75a1f900000207b4944415478daec7d797c5d55b5ffdafb8c774e7233274ddb746ea17460a82d94424151506450e13d1e0f79a0a88cda8f0ac8034444105091870a1fe5671dc001141041b19380cc9ddb74485b3aa599ef7ccfb8f7fafd71d292e69e7b6f6a93d3e4d2fdb9ffe4de93337df79abe6bedb50922c2e046ac37bb7f5f9c5202a37920a2ac88cd13aa0461d43c8838f84397bfb2e5f6af3f17f0cba31a24c67924e2fbe35fbe58551d2a419038076673c6f8a80689734c26342d6b8da27b3e029008014ac9685777840022c462d9a67115a3e59e297cf806e73cde9b1d4537fc2104893086f1f8719046b6ba638cc78e4bd24857770c1309bd341d8782c10720472085a213404f1f0c21af9b83888944f6430712212048347f588cb222514a01bd038a506299cc3419c981890a34f96193245db7e69edcf4b5db3e8a1cf34deaf20abf240a5eca922090d56fefb9e39bcf2322391c284a2199d01081900f0d489c63a4cc376bce9891f66ce9e986240986610d608028a5c9846e594c96850f91e3c0398ec0670b06555916726d21252495d42dd33eeedd1dfb5156ee575491e7184242892349c7413af6439685f2727f2ecd4f09310c2b9d328e833402ecad48cb2b029ce5e83b02b68db158f6384823629447fd2cc75e12028cb1784cfb70c54923765494f9d0e630002744db64a9d143df790792ce907b1d9a905065100520e2e157458a16eb8a691a73a2b8a3a25a2801759893bc1e81b42fcb2e5ede13379897e92842695aad4b7ce9c22e61a05647c66fb723dffb4b27f2a3ca61321b6756cabf5f141d56983c02a95d63ef749b6017e2f786654801181772911602499b41f7513b78163686c4e1ae96f008a41e03810308c46b909083955f568efeed72680c0c3b6de19177d7ab33b0398ceeccbbfb68f4970a4807340e253908d4fa4a0724366a38e7231cf5fe5202a94425a96ef825c923c7a12dcb8e8d414200027985f828939008b244431229059010a0cbd5262100c3e19ee9201092475fa00dc00797d7a700b9111e62992c94cbb414404a983c95ebda71ac0f8a77cf0acb940c1f504420fff8d39a557fdde00bc8877be608042ebb6ed184a9b558cca7a104561c309edc9a1ee8b223842488c82521493183a7ac9c309643835fb8667260d8e558b6de5abb2b18560f9701344dfb1c38f58c66ffa0e699c59f6c0110066a82884c8352494852cce4298be71a8690e485dbe28f068580c22471c0f54d9bb72706cb38ec4ebb3b3e51c58bc5195ebca65e132dcb85106af47b71f568654014692e916adb3c316822bc5373777cea7d5e544978f19aba7506b9451008d53e2fae5e5e1e104497723381d2c1a794daf3383e0d015a2220edcfbaeb8a5a9f17cab6b23a28082e8f4908c4e383028923c44d57ef026b7ca502d2812c07376551a37a71f56050f1f965742b4719a4bad319a62c77febed12f960a4879147a8d270a5d56c4b2723fcb09c8044a63bd1a0ea2182d65b9851000209072a55424a92d57dd21508984652f48085511cbca7c3c27b94728c463593688683a6d63caca398c8322d10ad98b1738ecd26a7388b928740c4834929f50e9d57a9e6ef9a5c9ccc209289b5be3ca265c32e5f202c708228d44d4dc88951092cd9a86698b529155c0690b332e210486255aa1940448498b274c3e50623904251ac93f0d755b5fd3f1ae6eeb94147a0b26d32d5e7cf56bb8ccc77396fa12422cd34ec4b381805c3492b52d84818512109448c4136530ec20c54d9eb45c544a5024e1fcc12c21441114442c0c12019068f1d5f015150174217b8869b26442af6f281624e9eefe7744a261a9246c52dcc4a49953258410924840f488188f460334971820609a7632597c0d4c97eeceee55ab1e257a86fd320993db968b6b54ad7ab7a2a13c1a10e8c0789610b00c964c140f953a5c9361080d01b144403a902756f7260cec5377d180209201cc10214437edc1ac26ebd4995b3a036b4b4692dab2ee2b4c6a3c94a48a688052b727454c0d42dd75e69967757ea16424c97d1a7aa6d001a0bcc22f8a2e97a3940ea66c3fe6ca09799238f708a4fdd9633c0d014051a448992f376ea594140589232473392104106999522aeaaed3d5ea7a45a838c3e797221137d28140a21848498bc773e33c049f44aa4a03240b219eebda2108222997bd034955c570c497bb50891052345b91b531e94637f83d9c67c37b99a4c9e306e64e43bf48ca64efaa87048186236aeec25e4a496f4fa670c950cac2a4e9920c0b48d433b33abc9e7ecae231d3651a0644a1bce0ca6f04649c316e6341c681719be3a02afa22111f77594d464cc3ce66cc40302f6d91b151b7f8c05221847299a85eb5351caa8e289847923069baa8bb8048ca95424f2810a14c2d37989f1694758b1b41393c4807cf65d50d01c3b09329bd0048798224ef5cbba1018952924a199c63ee5be83139b773a849803299ca05172a55faabbe31ef4eecab6d2c343924411a14335419243957a4941886954e68509717e96ec3dd3badf78f2a90008073447479a1ee897384da62748340843275289b0656560573c3594288ae17a1efda5de33cf434ce1bde2bb5e701a94af5ba1549b43240726aca0801c3b053057b0574eadc0d2468f050928617a4b63cd3d04be2aecf264503d48563258661a7538524a95b779b679454968c24b5e5a11b6a54af410af8e56050c9ad682050a466a85be7036bf6108808954aa980d463b8b35edeab3b9f5f0e8515969345a794c40b920e09b7649822522f1f6118413239f61a2e840a88a442f15a92fc7e291452d1a53b0a89f566f2fd97c6309e1b4200aa82a7ea6ea89a1292dc024483906e464014fa2241c72020500a5501d17b490ae7e358f3f763cdda987063570312a91a5d2039e677d7ce6e41a0fdb577bbc6d8819ea081840202988a84940087a04c492a1b07d1cbf66b9410559572d72211800220656c8c9b6c60688150a550c9c38614430092a288efefecbee2929fc3e1c94f04a807a887beaf0d9f8c8422a048c8b7961291102f412294f476677c3e2977861548ce6a3626dcb8c77abfa71b5d0c8dda610cd369237792d27e26574c1987306cf3ba6dae43bdd35c4e845062e856266304024a1e4e28b7d78ed721c4d035ca158adc37f67b4123a7ed1421a0e9763a950f2437ef947b5420ed910b3ef207a544d7ad5c35f04124ebd6f2a6ee3848de4a12d1b279bb4876ea1c7265492095de8610c74122ba66e66386ba753eb08d000208a4f6b824796c932c8b6732a6ebaf5d6e8c894c49f4b824796e96a0b7c79d7488e7a695111581786c938ec0cfb22d964e1b83ec22420909482e8d4810216323c711d4473c9331dbdb122e710562cc8dd62a934948262314a445e74c79ead96b06b924be4be7fff37acc1eb0cb088240c883a744a6444650ef57c6b0714c992b27d463b854b1d7f804c95b0574042fabb62e5c5b171ee4c13b4ce8edee1898fee6a0cae49cf3aa9b2418f943676eeb99116a7d54242355928e68ece8d6c1b0fa88870f4042bf2084918f0a5ba8338c193936896395e2759e65b85e56bbc6c16d47a5884c7de2e8f056ba0d6ebb25ceeb3c4f2b0f1f48ae8973a851a9344a3cca4ecdadba8142a55a329294e5ae5d502a153a5abcfe6ec361570f8f6429f538921d4690ba74e652328758a98e9ac8ac53676e9c10d4fa4b45dd75e64618700cf8e3a39224dd45198804aa3c9f67c3e2dd991cbb74b71622041c4205473c42244f158d2a925acf6dd2b080a4d9d0a5b98124d19f6dcd3cbf47b371a42344086c49d830c0c9e11855044520a5005296f11ec3adc734811d096b476c94e8bbdcfd00106a7c82bf3440ead4b999afb11225a39ad4ad52a8e0f9fd0fcb05dbb38c9564477d7e0cca3a870ba40ed75691a530b0d6474b04a4768d038712dc3e84922ab55440ead44a549228d4fbc51201a943e72598f245004aaa8f85240dcbbcd899b2c142005e6a20114f7b840c23480870c3b4e0679a7c404bcd285180a6c03100892096a41b566a93e3f8380ed2f131221d078ce931bfe4679ca5ad14e30c016a03751cf9fb899daaa0d406eb45ea5e89c2186fddd6691a8c50400eaa4f6a9e5855b83e291ed3f6ecee25040801ceb0a62e5c53db572db3b3b52b9d3673938c884029adae09565585f20573bdbd997d7b62ce2a0cceb1696cb4acdce7fc944ee9bb76f680dbd6598840088956066a6ac3f976d48df566f7ee893977c5398c692a2faff07b0d92cded87debef7828917ef4bee5ed3f1eec4f2c9087856d3b94f6d5e6a314314a473c67dfcb4fa05aeff9bcd5a4b6e7866dfde5e51122cd39e34b9e6ff3d7d5520a814b8dc1bafeffce6cdcf488a4008d132e6976f5ef4e59b16393f7df7ae97de7e7397a24ab9be0d214455c5c6a6f273cf9b7ef1676747ca7c030e59b96cdb9ddf7c5e552520a06bd6033fbaf4e317cc707edab06eff0d5f781a0088cbb6574008c8b2585b173eef82132ef9dc9c5c005e5db9fd8e6f3c27cb220098a67dcffd177eeae2938e810b9eb1d236b3b276362005a645672080c18c1df1ed0b1a169e39f69cf1910905fed7329961d89ca369da9655bc6f10e7dc306c0474161cf6270d2d8b19867da87d03629f1fed7ca1eb567757faed37dfffd31fd67ce7810b67ce6e3cecb48c3bffebf47ae8df868d73300c1b001c5941deb7a69d00104a08015db763bd99756bf63dfbfb35f73ef4e9d973c6b8dc308203121fc496d1c36293042210420422184cefd17a3ab31d63c2e36e9f7f8f40859fad79e4c5d63f15ba21810802753e83d983db59ae7be8d3bfa306a587fd048080801cb319d3d06d4a89ea93c26175eb968e1baf7b7acfeede419ed6598c75e8a3a85230a80402b2cf2f31c675cda29428aa140aabbb7674dd70ed53dbb7760ef2cc9e4a926e6b8cdb263308a111250200bd5af7ebfb5655faab2d66b6f46cfce4a44bbc34bc8cf160485d72ebb955d521ce3116cbbcf5af5d7f7b71b369da92240402f2fe7df1fffbc18afb7f78c47765e8d68d4b162f5a3c9973e09c7776a4de786de7b3bf5f6d1ab628093ebfdcd99efac103ff78f4f1cb8e26c331f42051225c31ebaa6955d39a6bc66d8f6db1410702e5e1d08cfaa9bb123bce9f7efe19f56779cd152048123d63d1a4caaaa0f3cd8517cfbae0c2994b6efc63266d0802f5f9e47fbdb6f3405ba2ae3e724467e61cc78e8b4e9956ebfc39e34438eb9c29f316347fe396672c93514afc01f98dd776b6b6764d9e5233a240a21b7e272d5dbd4c5124918a4eb0fc67be4c12448e414af88bfc659bb301f656d3ccebbf7ad68c13eb870f274d3b6cc384f9674cb8e8d2594ffce4b560501145dad395debf3776a42039966fc037679f3be5a24b672dfdc59b7ebf4c08310c6bf3fab691051200fceb8dedcbfebec5ef1b5cc537814cda5cb478f294a9b5b6e5e99ec1cd13ab28210e298708a9b43154673e61668363500901ceb1ab2b3dd2e2242005734954206a3fb7d8b2d8b8e6e8771fbcc8e7970a37cc1af2b179431b220201445454b1fec8c5286ff416efdb9909112821f58d65230ea4b9a78e951551766be04905aa6bd6db6fec3aa885d0b6d8925bcf1d33b67c78394a026a3fc946c4e79e59f7dcb3eb7c7ed971c74f3ca9b1695cf4df3af3c009994ceacf3fbbce598ecf390f477c27cd6a1c71207de5e645057e7de2b157ffb9629ba248844026635ef2d9d9175e326b78b92f4a74cd7eec472b23111f00e89ab561ddbef56bf75342049122a220d0abbfb8c0e7fb7756e430c60f0567cce69b36b43df2f0f24d1bda9cb3a5d3c667fff3e4c6a6f211075281f1de3bbb7ff2e35592243841e2f8e6e8d76efde8b01394941886fddb5fbeed448e841049146445708440d7ed6bae3bfdbcf367fc1b675654e9678fae7afad7ef2022212495d4dbf6c775cdf2f924ce319d32e67da4f94b379e3902b9bbbc2399d0bf73c78b5ab6ef1908c06d779d7fc82deec70b1c951797f75105ca29717ae8202063288a0400644958b96cebfc339a3f72fa847f03fe7d7b62bb77f53a469810228a54f5498828cbc2a72e9e79db5d9fa8a8088c26901efdc18a8debdb42611500b219f3bfaff9c899674f1aa0dffb6f2ae1d0a64764125cd95844144561e6acb1aa2a396b0f4dd3deb5a3bbfd40d21f904589ee68edbaf18b4f3ff1ab2b671d4ee10cc647621c6dc60821941249121ca7ce32d9a2c5531e7af4336428d6047a07d23ffed6f29b5fbee5b0a5ba669d38abe1a6258b071ce353c5b2723f6be592241020a6c58a325bba6632c69d074180e8e17279d06c603822dff7f0c5f50d1ff86ffbf7c61e7968f90b7f5eafaa92aa4ac9a4f1f0fdaf3cb1f44a4539a2c5defcf433274e9c549d4868bb77f56cd9dc9ecd9a8a22ca8ab8ec952d377de977df7be8627f401e1d20757624efbfe765024029618c2b8a78fbdd9f088606d2db82482ba27dfb1588226ddb9768db179f3cad5018b865733be3e8cc5702505b1b2e40c5f6ffb3614cf9bddfbf68ef9ed8dad57b5555f2fbe535efee6dd974e08884c932ed8b2e9d7dde41827cf5bb7beebefd85ed5b3b555512287df1cf1b264daebee1ab671fad4df50021cef1c1efbeb27b57afac888e187de1fa85734e6e723d78cab45ac7ae104ad269e3af2f6c2c70e64cc67c7555ab33f76d9b472b03e39b2b076fae4489ce5bd06c598e3701b6cd776cef3a1ac661cec94d8ffcf4b2aaea906d3142c01f50fef8f4eaaeced42800e9b967d7bef0a7758ea2cb648cf9674cf89feb16e43b78e15993fc7ec9219354557cfa37efac5fbb2fdfc13fffe9ab3bb6773a019969dad34fa83b5267379331483f136899474b798c1d1fbde2aa798669038024d1f6b6c4cb2f6e1ae920ed6ced7af8be57444920046c8b9557046ebbebe34ecacb754c3fa1fed4f9e3b35913000481a693fa2d5ffafdca655b071c964aea8ffd68e52f7ef6ba138e2022205c72d9dc02d90d491a185caf5fbbefafcf6fec1f1e35340d414c7dfe852744a30167d35441a4afbcd4c28fae5474786d926db1fbef79b9b323150c299c8369b25b979c3da920d54829f9ca4d8bde7d6bb7653151a4b22a7674a46ebaee77a7ce1b3f6ffe78c7337cfffd9ed756b66edfdaa1a892834a266d2c3c7bf2e28f4ecd4737708efbf6c61011112d8b75b6a7d6bcb7f737bf7c2bd6937194b061d84d632b8e921a70467d43d94973c6acf8c756bf5f966571e386b66d5b3ba61e64ca471c48bf7af2cd15cbb605830a2264b3e6f99f3af1f2ff3ab5e87fcd9cdd78cb37cef9f6b75e50555914a92c0b9ce3ebff6c5db96cabd3ef4610a82c0b0ea30300d9acd938a6fcf6bb3f912b2b07fd729acd18375df7bbbe9a05c6b3592b933154557210e20c2dd3bef62b678423ea903cf8a2c55356bcb2d599739994fef7bf6e3e1a908651dd6d5cb7ffff7eb8cae1526d8b358dadf8ea37cf4104ce31f7c318f6af00bce2aad36efddf8f3be114223a59d450588d447c91882f18541c85c9184f26b471e3a28f3c7e590197c1f11ad2293d11d712712d9d3210d1c9502082a1db9a6eddf8b5c5977c76ce503dfbe90b275644034ef364491256bcb2d534ed112749d98cf99d3b5fcc64749f4f765c3544fcf6b7fe92cf3267d2c6e5579e7ad167661ffae6f35f58306d46dda30faf58fdde1edbe24e9c48faca7738e768992c1cf67de6f2936f5c72b66b1e48d7ac4cda600c0971a141119133a4029938a9fa0bd79ff1a98b0eab06b16d76e87fb5ac69dbbc3f59e7b45ea3946819a3ff4f1f68bcc6b21366d6bffce2269f5f46c435abf72efbfb968f5f7082e385663286e3529aa6e5faef1e81f4d31faf5afdeedee0c1421f41a0dd5de9b67df17c398c445c3be3acc903be9cb7a0f99479e35e5dd9bae21f5b37ad6f4b26352d6b5281060272b42a78da47c69f75ce940279c28f5d3063f2b45a5916b259331ed3fac3c43906834a5d7de4c4931ae69dde1ccc29489a34a5e6f3d7ce9764c1a10ffa8b697d63d99557cf734c9d69b2e68995ae56f0bfae9e575b1f713c4fc3b05349dd69b93b6152d555d7cc778815dbe613265515a73586a3cc78d5f26d5fbafab70470f089fd6442fbfaede77de59642f479ac379b886b82482b2a0205b6a52abd31f492944cea4b7ffe664d6d48558f80f94f457c458d767985bf681de1481e0ca15d639440adefc8d6460fbd2499a69d88698778522cc84c1f8a6a38477f403ee4b095d878a3cbfce5b6cc1b5d46a7819440b54a17d528d74e094c2f938e0d48c747ff6130bc6d75f2918d29dbe27d7316fa8a0b023ee1f659e16f9e1822c74092185eb8bca7356e8140c0c6bb4f89fcc778771db531665db6b2c7e0001cc746c4171657e653031ce173ab7ad6769a0070cf2991cbc6e7557acfefd5bef6461c44020c279649cf2d8e0ed83c3061f20b96f5b4a76d60f8b5d991eba604da3576c1b29e44d1d5890cef3ba5ecd271bead09fbd3cb7b6cb74671075d435cd8a0fe7c413943b8fab5dea59bd3ceae8693caa55915124358dd63bd1fb7800030fcfadcc8fd73235edb2404d89eb477c42c100830b86375f2824635ecd63fedceb5c94d1d264804181a506895edf203c61f5bb30e5cdfdf98ba78ac2fdfbe8d71135b6396f3525a7bad076b94db66860e7f81b0356175256db0d169566c7168895b59ad3848ce26e806c32d710b180ed89ba3ff351ac322003cb93db3b4250d125145f2fd53caae9a18084a0400e226fff1e6f43d6b9316c0036b930b6b94f31b55af83594520e07c64b2b3c7fae916975ec17f6fd39fdd9905853a4716ee05f3484b1a10412420d3d59de62b6d798b8a040270e8ea12b96f5d7273fcb0723bd2eff6c4835b06690cc13ef8e1f8c1191c540f7e6c8e8e7b2d1d3c8088844a8488877d402221896a0c1fdc9472b6ebf8d9828aeba7051d8400a04ca677cc0a7fe7e408200087ef6f4c15e6f6863f9f24928736a5ae9ce8efdf26cee4f8add5c9621b94f68d35bde6cb7b353894b1e5f0a3cda9c253ef905b92d6d957df49bc746e6581eb5428f4b179e5badda7be76a7ed475ad29c0370fc5893efbc06f550f4bbb0f6f070cae6df3dadfc8c1a654073668650eb13d6f6985b6316009cdda85e39c1453fdf323df8eb1dd90d5de69b9de6aeb43d21241e3b902874a6ec8737a51f38f903cdfb8bedd9770e18200dca117db42563991c640a1c811010c98afdc66b9dc6e9d54a71cd2bd1bfedd69edc9eb97a52de4283a044ae9bf2c1af9be3d6a35bd21c00182eaa556e9e1e2c70fe39517941b5bb47faf836c359d9fd8906f7f9245172569db2a1c330186e4f160269985315ce0c13e84fb6a45b937de45597cebeb32e79707bb22227684dd97fd895058902878690a88a0408d836feb82553c4233ae84401813b56270f68834d14a5ac0fee496758d479cbf753e6e0790a0445877a4999fc1811ac0050a152810050486becdef549e7cb0737a6f7c72d100010ca8bb545787c5b26e56c568bf8e869659f6e52c14210c90bbbb32d09bbc0e4084ae4ea4901600802694bd8b7be97188e072cb0fdf9a4b0e8dcc97bbd56be63d6f65a408010a82fd88d7238d59d8d8bc7a916e77fdea981487fd39abd6546a842a13fd992068902c3536b94f9d5f20fd7a7f259a6768d3db93de3f8d333aae44f37f9022279ba350b043483ffb825f5d8bcbc393a8bc36d33431b63d6dbed064864e9b6cce5e3fd1f6b5087f201057aeffae4d21dc28028c66278fe18df790d6ac42f24b2ecb9f7b5db6786c60707beea573b8ce56d3a10322e284c8b48c7cc71f08b70e3b4f08bbb750bc0b2f1ce35499f48523a775ce47be68457775b05dc87a53bb2dd291b240a8cdf382d080067d62a73ab95f73a0c10c8d33bb55b4f0c8fc9d358c1e61855e843a74616bdd8c90010e1e6b713ef7d5219ca5eca1456edd75d5a8a58a88ae4ca89fecf8df73dbe21d59d6557aceafdd5c28ae67e56676daff5f95763a68dc0f1ba29c180488e99bacbd838272a5fdaec071b41247f7e5f7baa350b22010b3fdae4fb68bd9aca4fd4a72cfef8d60c50020cc794499f1be7070099922f4f0d3a9e5b2c63ff7c7ba6b07539bd5ab97a4a102c0e02d9d26ddeb721e51787b405080110723e14044200e0ee59e109511910ff75c038f52f9ddf782ff1dc1eed99ddda0d6fc5cf7cb96b47dc0286f31bd52f4f0d781dcce6fa0d77ce0a3dbf47cb58077730445065f2bd3991c27ec31fdfd776f45a2011b0f0a6e9a1c8c13d3cfe7ba2ffc14dc9961e0b2879625be6e6e9c1329916b8fa3db3232fedd3f7a56c10c90f36a64eaf910343d5fad1c6afcf0e9f52290f68eec71027874500a8f509cf9c1dfddc8a9eaddd664f863df05ea2cf5d72dc54c4058deaef174583c5a4db8bbabb2911e98b53030faf4982f3362d7ecd49a1d9d1425ad8e4f8484bc609e9258594cbe46ffb753ce8b9ce88482ddd1688a42d61fd6667f62b5383054e55e3a3f7ce8dfcf78a1e209031f9927712498b0f4d9b37c473ebd473ea0b450227954baf9d5f7ddffae46f7764db3506acef199a43c2e727056e99110a88c768cd6cee587242e8d73bb29d5906085561f1b69945362679699fbeb6cb704c97cde19ad763fd8d33a5e0fc04943cb62573cda44061c2e28a66ff533bb32fbfaf814436f69840085032243d953556fc24950a7de894b26fcf297babd33ea0d912952a157b7e8d32f87e5f1e7544a9f309b7cc0839a4cb1d27858b6e12f5484bbaef1d72441bd146601f7cb88560a3b373dbe66ee30fbbb3c59807f8fe2991a08f0247a0c4e36e89593bfbe6fe57d71d58bea02af99fcdece4c8dab3eb94deccee9df1eddb7a5bdad36d23459200e0faa9c1475bd221895e3bb9889d7cadc35cd966804800a1ca2fd4e7e95eb6296edb0c01e0b12d99cbc71731342794495f3f31f4bf6fc787b677d860dc90ee6ce7b35b7f571da8fbdbae973f39f1e2e7b6ffe19e8573df6d7fa727db95b5b3532aa6d706eb470a484189dc3b271294885acc6effb025c56d048900e2530b2b16d7bb0737fff1cfdea7b6a441a26fb49bcb0f18e7d617618996cc083db35b5bd769c250397802b9edbd84cbc6c00ce654cb77cdfa40a5cb821290fc6933a18abeac957d61fb331bbbd78f0d8f37b849091d4192e43866458fd910b35ed8a38348c0c6050deaa2babce1e78dd3827fd899b51180f11f6c4e1505c92792874e897ceca56e8643d41f9692b7dbddf6cfb331c1f0ae59fdfd4c1e52225dd98e849110a81856ca554119bc511c169ba41f64fecd62e5b516ef3bf2104bf6d0a69499b1812170bc7e6a2125765a957c669d0a0607425edaadadea301c06ba2fadc05cb2998bebd46ba705c1e007530f2ea7e508f6c1fbb7f21c6039073829254a067e081950806332d3b4cd2eadab33dbee13fd67369d3da16cb2611b36b739b26320492225df9b1be93138224e2cb677df67c7f99b832225a44c26aa4018c2790dea47aa14005045725193af701cf9c3d322ff6c524581580c83220180f955f2638b2a044a2840d42d7eba774e786e5462088ce3fc1a17e19b10169f38bd8271601c4f7363b8c70484274e2f673cef0237c6715c3f7221eaabba70f2a569333daf617e43a8694ca809004eaa996b31d3463b2297158f988fd7388cfc71bc29e12818ff7f008fcf231fbf8693a10000000049454e44ae426082, 0, 'A0', 0, 0);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `profesores_asignaturas`
--

CREATE TABLE IF NOT EXISTS `profesores_asignaturas` (
  `id_profesor_asignatura` int(4) NOT NULL AUTO_INCREMENT,
  `id_asignatura` int(4) NOT NULL,
  `id_profesor` int(4) NOT NULL,
  PRIMARY KEY (`id_profesor_asignatura`),
  KEY `fk_asignatura_has_profesor_profesor1_idx` (`id_profesor`),
  KEY `fk_asignatura_has_profesor_asignatura1_idx` (`id_asignatura`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=21 ;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `alumno_grupos`
--
ALTER TABLE `alumno_grupos`
  ADD CONSTRAINT `fk_alumnos_has_grupo_alumnos1` FOREIGN KEY (`id_alumno`) REFERENCES `alumnos` (`id_alumno`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_alumnos_has_grupo_grupo1` FOREIGN KEY (`id_grupo`) REFERENCES `grupos` (`id_grupo`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `convalidadas`
--
ALTER TABLE `convalidadas`
  ADD CONSTRAINT `fk_alumnos_has_asignatura_alumnos` FOREIGN KEY (`id_alumno`) REFERENCES `alumnos` (`id_alumno`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_alumnos_has_asignatura_asignatura1` FOREIGN KEY (`id_asignatura`) REFERENCES `asignaturas` (`id_asignatura`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `dispositivos`
--
ALTER TABLE `dispositivos`
  ADD CONSTRAINT `dispositivos_id_aula` FOREIGN KEY (`id_aula`) REFERENCES `aulas` (`id_aula`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `faltas`
--
ALTER TABLE `faltas`
  ADD CONSTRAINT `faltas_ibfk_1` FOREIGN KEY (`id_alumno`) REFERENCES `alumnos` (`id_alumno`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `faltas_ibfk_2` FOREIGN KEY (`id_horario_grupo`) REFERENCES `horario_grupos` (`id_horario_grupo`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `horario_grupos`
--
ALTER TABLE `horario_grupos`
  ADD CONSTRAINT `fk_horarioGrupo_asignatura1` FOREIGN KEY (`id_asignatura`) REFERENCES `asignaturas` (`id_asignatura`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_horarioGrupo_aula1` FOREIGN KEY (`id_aula`) REFERENCES `aulas` (`id_aula`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_horarioGrupo_grupo1` FOREIGN KEY (`id_grupo`) REFERENCES `grupos` (`id_grupo`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `horario_profesores`
--
ALTER TABLE `horario_profesores`
  ADD CONSTRAINT `fk_horarioGrupo_profesor1` FOREIGN KEY (`id_horario_grupo`) REFERENCES `horario_grupos` (`id_horario_grupo`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_horarioProfesor_profesor1` FOREIGN KEY (`id_profesor`) REFERENCES `profesores` (`id_profesor`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `profesores_asignaturas`
--
ALTER TABLE `profesores_asignaturas`
  ADD CONSTRAINT `fk_asignatura_has_profesor_asignatura1` FOREIGN KEY (`id_asignatura`) REFERENCES `asignaturas` (`id_asignatura`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `fk_asignatura_has_profesor_profesor1` FOREIGN KEY (`id_profesor`) REFERENCES `profesores` (`id_profesor`) ON DELETE CASCADE ON UPDATE CASCADE;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
